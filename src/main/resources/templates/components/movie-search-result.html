<!-- List out the results of searching for movies -->
<div xmlns:th="http://www.thymeleaf.org">
    <div th:each="entry : ${tmdbMoviesByTmdbId.entrySet()}">

        <div th:with="tmdbId=${entry.key},
                      tmdbMovie=${entry.value},
                      ourMovie=${ourMoviesByTmdbId.get(tmdbId)}"
             class="movie-list-min-entry">

            <!-- The searchbar is populated from TMDB, and so ourMovie will be null for some of the results. -->
            <a th:href="${ourMovie} == null ? @{/movies/tmdb/{tmdbId}(tmdbId=${tmdbId})} : @{/movies/{movieId}(movieId=${ourMovie.id})}">
                <div th:with="releaseYear=${#strings.isEmpty(tmdbMovie.releaseDate)} ? '' : | (${#temporals.format(#temporals.createDate(tmdbMovie.releaseDate, 'yyyy-MM-dd'), 'yyyy')})|">
                    <img th:src="${#strings.isEmpty(tmdbMovie.posterPath)} ? @{/images/no-poster-search-result.jpg} : @{'https://image.tmdb.org/t/p/w92/' + ${tmdbMovie.posterPath}}"
                         th:alt="|Poster for ${tmdbMovie.title}|"
                         width="50">
                    <span th:text="|${tmdbMovie.title}${releaseYear}|"></span>
                </div>
            </a>
        </div>

        <hr>

    </div>
</div>
